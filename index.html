<html>
<head>
<title>CERN Trip 2018 Pictures</title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="jquery-3.3.1.min.js"></script>
<style>

body
{
	
}

.VerticalAlgin
{
	position:relative; 
	top: 50%; 
	transform: translateY(-50%);
}

</style>

<script>
	// Picture Class
	function Picture(imageInfo)
	{
		data = imageInfo.split(',');
		this.imgName = data[0];
		this.imgId = data[1];
		this.imgDate = data[2];
		this.imgTime = data[3];
		this.tags = data[4].split('|');
		this.lists = data[5].split('|');
		this.hasEdited = (data[6] == "true")
	}
	
	var imgID = 0;
	var images = [];
	
	// Loads image
	function LoadImage()
	{
		var image = images[imgID];
		document.getElementById("pictureName").innerHTML = image.imgName;
		document.getElementById("picture").src = "https://firebasestorage.googleapis.com/v0/b/cern-trip-website.appspot.com/o/jpeg%2F" + image.imgName + ".jpg?alt=media";
		document.getElementById("downloadCR2").href = "https://drive.google.com/uc?export=download&id=" + image.imgId;
		document.getElementById("downloadJpg").href = "https://drive.google.com/uc?export=download&id=" + image.imgId;
		document.getElementById("downloadEditedJpg").href = "https://drive.google.com/uc?export=download&id=" + image.imgId;
	}
	
	function prevImage()
	{
		imgID -= 1;
		if (imgID < 0)
		{
			imgID = images.length - 1
		}
		
		LoadImage();
	}
	
	function nextImage()
	{
		imgID += 1;
		if (imgID == images.length)
		{
			imgID = 0
		}
		
		LoadImage();
	}
	
	
	// On window load
	var rawFile = new XMLHttpRequest();
	rawFile.open("GET", "info2.txt", false);
	rawFile.send();
	var info = rawFile.responseText.split('\n');
	
	for (var line in info)
	{
		images.push(new Picture(info[line]));
	}
	
	window.onload = LoadImage;
	
	
	
	
	function hideLargeImage()
	{
		var items = document.getElementsByClassName('largeImage')
	
		for (var i = 0; i < items.length; i++)
		{
			items[i].style.display = 'none';
		}
	}
	
</script>

</head>


<body>


<span class="largeImage" style="position: fixed; width: 90%; height: 85%; top: 0%; left: 5%; background-color: rgba(0, 0, 0, 0.5);" onclick="hideLargeImage()" >
	<img id="picture" style="height: 100%;" src=""></img>
</span>

<div class="largeImage" id="prevImage" style="position: fixed; width: 5%; height: 100%; left: 0; top: 0; background-color: rgba(0, 0, 0, 0.8); display: block; cursor: pointer;" >
	<img src="ArrowLeft.png" style="position:absolute; width: 50%; pointer-events: none; left: 25%;" class="VerticalAlgin"></image>
</div>

<div class="largeImage" id="nextImage" style="position: fixed; width: 5%; height: 100%; right: 0; top: 0; background-color: rgba(0, 0, 0, 0.8); display: block; cursor: pointer;" >
	<img src="ArrowRight.png" style="position:absolute; width: 50%; pointer-events: none; left: 25%;" class="VerticalAlgin"></image>
</div>

<div class="largeImage" id="bottomPanel" style="position: fixed; width: 90%; height: 15%; left: 5%; bottom: 0; background-color: rgba(0, 0, 0, 0.6); padding: 15px; display: block;">
	<p id="pictureName" style="text-align: center; width: 100%; font-size: 24px;"></p>
	<div style="margin: 0 auto; display: block; width: 100%; text-align: center;">
		<a id="downloadJpg" class="btn btn-success" href="">Download Image</a>
	</div>
</div>

<span id="pictures" style="width: 100%; height: 100%;">
	
</span>

</body>
</html>